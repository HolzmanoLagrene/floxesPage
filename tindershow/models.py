import uuid

from django.db import models

liked = 'l'
disliked = 'd'
unknown = 'u'

status = [
    (liked, 'liked'),
    (disliked, 'disliked'),
    (unknown, 'unknown'),
]


# Create your models here.
class Source(models.Model):
    name = models.CharField(primary_key=True, max_length=50)
    image_base64 = models.CharField(max_length=99999)


class JobScout24Job(models.Model):
    id = models.AutoField(primary_key=True)
    job_id = models.CharField(max_length=50)
    first_seen = models.DateTimeField(auto_now_add=True)
    title = models.CharField(max_length=50)
    link = models.URLField(max_length=50)
    origin_company = models.CharField(max_length=50)
    age = models.CharField(max_length=50)
    _attributes = models.CharField(max_length=50)
    source = models.ForeignKey(Source, on_delete=models.DO_NOTHING)
    status = models.CharField(max_length=1, choices=status, default=unknown)

    @classmethod
    def create_from_soup(cls, soup):
        job_id = int(soup["data-job-id"])
        link = "https://www.jobscout24.ch" + soup.find("a", {"class": "job-link-detail job-title"})["href"]
        title = soup.find("a", {"class": "job-link-detail job-title"})["title"]
        origin_company = soup.find("p", {"class": "job-attributes"}).text.strip()
        _attributes = ",".join(set([child.text.strip() for child in soup.find("ul").descendants if child.name]))
        age = soup.find("p", {"class": "job-date"}).text.strip()
        if Source.objects.filter(name="JobScout 24").exists():
            source = Source.objects.get(name="JobScout 24")
        else:
            name = "JobScout 24"
            image_base64 = """data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjgwcHgiIGhlaWdodD0iNDBweCIgdmlld0JveD0iMCAwIDgwIDQwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDx0aXRsZT40MDJEMzI2Ny1BNjc5LTQ3OEUtOUI0NC0zRDkwQjU4RUFGQjA8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBza2V0Y2h0b29sLjwvZGVzYz4NCiAgICA8ZGVmcz48L2RlZnM+DQogICAgPGcgaWQ9IkRlc2lnbi0tLUpTMjQtUmVpbnZlbnRpb24iIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyBpZD0iVjMuMi0tLUZpbHRlci1SZXN1bHRzLTAxLS0tRGVza3RvcC1IRCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyLjAwMDAwMCwgLTEyLjAwMDAwMCkiPg0KICAgICAgICAgICAgPGcgaWQ9ImhlYWRlciI+DQogICAgICAgICAgICAgICAgPGcgaWQ9ImpvYnNjb3V0MjQtbG9nbyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTIuMDAwMDAwLCAxMi4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY5LjI2ODI5MjcsNDAgTDAsNDAgTDAsMCBMNzkuMDI0MzkwMiwwIEw3OS4wMjQzOTAyLDMwLjI0MzkwMjQgQzc5LjAyNDM5MDIsMzUuNjMyMTk1MSA3NC42NTY1ODU0LDQwIDY5LjI2ODI5MjcsNDAiIGlkPSJTaGFwZSIgZmlsbD0iI0ZGRkZGRiIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtcGF0aCIgZmlsbD0iIzAwMzQ2OCIgZmlsbC1ydWxlPSJub256ZXJvIiB4PSIwLjk3NTYwOTc1NiIgeT0iMC45NzU2MDk3NTYiIHdpZHRoPSI3Ny4wNzMxNzA3IiBoZWlnaHQ9IjE4LjUzNjU4NTQiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTAuOTc1NjA5NzU2LDIwLjQ4NzgwNDkgTDc4LjA0ODc4MDUsMjAuNDg3ODA0OSBMNzguMDQ4NzgwNSwzMC4yNDM5MDI0IEM3OC4wNDg3ODA1LDM1LjA5MzY1ODUgNzQuMTE4MDQ4OCwzOS4wMjQzOTAyIDY5LjI2ODI5MjcsMzkuMDI0MzkwMiBMMC45NzU2MDk3NTYsMzkuMDI0MzkwMiBMMC45NzU2MDk3NTYsMjAuNDg3ODA0OSBaIiBpZD0iU2hhcGUiIGZpbGw9IiNGRjc1MDAiIGZpbGwtcnVsZT0ibm9uemVybyI+PC9wYXRoPg0KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iR3JvdXAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQuODc4MDQ5LCAyNC4zOTAyNDQpIiBmaWxsPSIjMDAzNDY4IiBmaWxsLXJ1bGU9Im5vbnplcm8iPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTMuNTIzNTQ3MTEsMTAuMzY5NTYxMyBMMy4zOTI2OTg0NiwxMC4zNjk1NjEzIEMxLjg4Mzc2Mjg3LDEwLjM2OTU2MTMgMC41ODQ1NTYzMzYsOS4zMTk5ODgwNCAwLjU4NDU1NjMzNiw3LjU3NTMzOTI3IEMwLjU4NDU1NjMzNiw2LjQ5ODg1Mzg1IDIuMjExMzQ4NTIsNi40OTg4NTM4NSAyLjIxMTM0ODUyLDcuNTc1MzM5MjcgQzIuMjExMzQ4NTIsOC4zMzYzMDMwOSAyLjY5NjY5NDk2LDguNzY4NzUzMjcgMy40MDU2OTA1Miw4Ljc2ODc1MzI3IEwzLjUzNjUzOTE4LDguNzY4NzUzMjcgQzQuMjMxNjE0NjcsOC43Njg3NTMyNyA0Ljc2OTg1NzM4LDguNDAxMjYzNDEgNC43Njk4NTczOCw3LjcwNjE4NzkyIEM0Ljc2OTg1NzM4LDUuOTYxNTM5MTUgMC43MDI0MTI5MjgsNS43OTA3ODYyOSAwLjcwMjQxMjkyOCwzLjIzMjI3NzQzIEwwLjcwMjQxMjkyOCwyLjk0MzY2Nzk4IEMwLjcwMjQxMjkyOCwxLjQ0NzcyNDQ2IDIuMTk4MzU2NDUsMC41NDI5MTk5MDggMy40MTg2ODI1OSwwLjU0MjkxOTkwOCBMMy41NDk1MzEyNCwwLjU0MjkxOTkwOCBDNC45OTI1Nzg1LDAuNTQyOTE5OTA4IDYuMjc4NzkyOTcsMS40MzQ3MzIzOSA2LjI3ODc5Mjk3LDIuNzg1OTA3MTkgQzYuMjc4NzkyOTcsMy44MjI0ODg0IDQuNjY0OTkyODUsMy44NDg0NzI1MyA0LjY2NDk5Mjg1LDIuODI1ODExMzkgQzQuNjY0OTkyODUsMi40NTgzMjE1NCA0LjIxODYyMjYsMi4xNTY3MjAwMiAzLjU0OTUzMTI0LDIuMTU2NzIwMDIgTDMuNDE4NjgyNTksMi4xNTY3MjAwMiBDMi44MDE1NTk0OCwyLjE1NjcyMDAyIDIuMzI5MjA1MTEsMi40OTcyOTc3NCAyLjMyOTIwNTExLDMuMDIyNTQ4MzggTDIuMzI5MjA1MTEsMy4yMzIyNzc0MyBDMi4zMjkyMDUxMSw0LjMzNDc0Njk4IDYuMzk2NjQ5NTYsNC44MzMwODU0OCA2LjM5NjY0OTU2LDcuNzA2MTg3OTIgQzYuMzgzNjU3NDksOS4yOTQwMDM5MSA1LjEzNzM0NzIzLDEwLjM2OTU2MTMgMy41MjM1NDcxMSwxMC4zNjk1NjEzIFogTTEwLjU1NTg3MzcsMTAuMzY5NTYxMyBMMTAuNDI1MDI1LDEwLjM2OTU2MTMgQzguODg5MTc3MjksMTAuMzY5NTYxMyA3LjYyOTg3NDk2LDkuMTc1MjE5MzEgNy42Mjk4NzQ5Niw3LjYyNzMwNzUzIEw3LjYyOTg3NDk2LDMuMjU4MjYxNTYgQzcuNjI5ODc0OTYsMS43MTAzNDk3OCA4Ljg4OTE3NzI5LDAuNTI5OTI3ODQzIDEwLjQyNTAyNSwwLjUyOTkyNzg0MyBMMTAuNTU1ODczNywwLjUyOTkyNzg0MyBDMTEuOTcyOTM2OCwwLjUyOTkyNzg0MyAxMy4xNDAzNjY2LDEuNTAwNjIwNzIgMTMuMzI0MTExNiwyLjg2NDc4NzU4IEMxMy4zMzcxMDM2LDIuOTA0NjkxNzkgMTMuMzM3MTAzNiwyLjk0MzY2Nzk4IDEzLjMzNzEwMzYsMy4wMDk1NTYzMSBDMTMuMzM3MTAzNiwzLjUwNzg5NDgyIDEyLjkxNzY0NTYsMy43OTY1MDQyNiAxMi41MTExNzk1LDMuNzk2NTA0MjYgQzEyLjE0MzY4OTcsMy43OTY1MDQyNiAxMS44MDIxODM5LDMuNTczNzgzMTUgMTEuNzIzMzAzNSwzLjEwMTQyODc3IEMxMS42NDQ0MjMxLDIuNTI0MjA5ODcgMTEuMTQ2MDg0NywyLjE0MzcyNzk2IDEwLjU0Mjg4MTYsMi4xNDM3Mjc5NiBMMTAuNDExMTA1LDIuMTQzNzI3OTYgQzkuNzU1OTMzNjUsMi4xNDM3Mjc5NiA5LjIxNzY5MDk1LDIuNjE1MTU0MzMgOS4yMTc2OTA5NSwzLjI1ODI2MTU2IEw5LjIxNzY5MDk1LDcuNjI3MzA3NTMgQzkuMjE3NjkwOTUsOC4yODM0MDY4MyA5Ljc2ODkyNTc2LDguNzU1NzYxMiAxMC40MTExMDUsOC43NTU3NjEyIEwxMC41NDI4ODE2LDguNzU1NzYxMiBDMTEuMTQ2MDg0Nyw4Ljc1NTc2MTIgMTEuNjMxNDMxMSw4LjM3NTI3OTI5IDExLjcyMzMwMzUsNy43OTgwNjAzOSBDMTEuNzg5MTkxOSw3LjMyNTcwNjAxIDEyLjE1NjY4MTgsNy4xMDI5ODQ4OSAxMi41MTExNzk1LDcuMTAyOTg0ODkgQzEyLjkzMDYzNzYsNy4xMDI5ODQ4OSAxMy4zMzcxMDM2LDcuMzc4NjAyMjcgMTMuMzM3MTAzNiw3Ljg4OTkzMjg1IEwxMy4zMzcxMDM2LDguMDQ3NjkzNjQgQzEzLjE0MDM2NjYsOS4zODU4NzYzNyAxMS45NzI5MzY4LDEwLjM2OTU2MTMgMTAuNTU1ODczNywxMC4zNjk1NjEzIFogTTE4LjYxMTYwMzgsMy4yNzE1MzIwMyBDMTguNjExNjAzOCwyLjYxNTQzMjczIDE4LjEwMDI3MzIsMi4xNDMwNzgzNSAxNy40MzExODE5LDIuMTQzMDc4MzUgTDE3LjI5OTQwNTIsMi4xNDMwNzgzNSBDMTYuNjQzMzA1OSwyLjE0MzA3ODM1IDE2LjExODk4MzIsMi42Mjg0MjQ3OSAxNi4xMTg5ODMyLDMuMjcxNTMyMDMgTDE2LjExODk4MzIsNy42MTQ1OTM4NiBDMTYuMTE4OTgzMiw4LjI3MDY5MzE2IDE2LjY1NjI5OCw4Ljc2OTAzMTY3IDE3LjI5OTQwNTIsOC43NjkwMzE2NyBMMTcuNDMxMTgxOSw4Ljc2OTAzMTY3IEMxOC4wODYzNTMyLDguNzY5MDMxNjcgMTguNjExNjAzOCw4LjI4MzY4NTIzIDE4LjYxMTYwMzgsNy42NDA1Nzc5OSBMMTguNjExNjAzOCwzLjI3MTUzMjAzIFogTTE3LjQzMTE4MTksMTAuMzY5ODM5NyBMMTcuMjk5NDA1MiwxMC4zNjk4Mzk3IEMxNS43NjQ0ODU1LDEwLjM2OTgzOTcgMTQuNTA1MTgzMSw5LjE2MjUwNTY1IDE0LjUwNTE4MzEsNy42Mjc1ODU5MyBMMTQuNTA1MTgzMSwzLjI3MTUzMjAzIEMxNC41MDUxODMxLDEuNzIzNjIwMjQgMTUuNzY0NDg1NSwwLjUyOTI3ODI0IDE3LjI5OTQwNTIsMC41MjkyNzgyNCBMMTcuNDMxMTgxOSwwLjUyOTI3ODI0IEMxOC45NzkwOTM3LDAuNTI5Mjc4MjQgMjAuMjI1NDAzOSwxLjcyMzYyMDI0IDIwLjIyNTQwMzksMy4yNzE1MzIwMyBMMjAuMjI1NDAzOSw3LjYxNDU5Mzg2IEMyMC4yMzgzOTYsOS4xNjI1MDU2NSAxOC45OTIwODU3LDEwLjM2OTgzOTcgMTcuNDMxMTgxOSwxMC4zNjk4Mzk3IFogTTI0LjgzMDUzNDIsMTAuMzY5NTYxMyBMMjQuNjk5Njg1NiwxMC4zNjk1NjEzIEMyMy4xNjM4Mzc5LDEwLjM2OTU2MTMgMjEuOTA0NTM1NSw5LjExMDI1ODk5IDIxLjkwNDUzNTUsNy41NzUzMzkyNyBMMjEuOTA0NTM1NSwxLjM0Mjg1OTkzIEMyMS45MDQ1MzU1LDAuNzkxNjI1MTU5IDIyLjMxMTkyOTYsMC41Mjk5Mjc4NDMgMjIuNzE4Mzk1NiwwLjUyOTkyNzg0MyBDMjMuMTI0ODYxNywwLjUyOTkyNzg0MyAyMy41MzEzMjc3LDAuNzkxNjI1MTU5IDIzLjUzMTMyNzcsMS4zNDI4NTk5MyBMMjMuNTMxMzI3Nyw3LjU3NTMzOTI3IEMyMy41MzEzMjc3LDguMjE3NTE4NSAyNC4wNjk1NzA0LDguNzY4NzUzMjcgMjQuNzEyNjc3Nyw4Ljc2ODc1MzI3IEwyNC44NDM1MjYzLDguNzY4NzUzMjcgQzI1LjQ5OTYyNTYsOC43Njg3NTMyNyAyNi4wMzc4NjgzLDguMjMxNDM4NTcgMjYuMDM3ODY4Myw3LjU3NTMzOTI3IEwyNi4wMzc4NjgzLDEuMzQyODU5OTMgQzI2LjAzNzg2ODMsMC43OTE2MjUxNTkgMjYuNDQ0MzM0MywwLjUyOTkyNzg0MyAyNi44NTA4MDA0LDAuNTI5OTI3ODQzIEMyNy4yNTgxOTQ0LDAuNTI5OTI3ODQzIDI3LjY2NDY2MDUsMC43OTE2MjUxNTkgMjcuNjY0NjYwNSwxLjM0Mjg1OTkzIEwyNy42NjQ2NjA1LDcuNTc1MzM5MjcgQzI3LjYzODY3NjQsOS4xMTAyNTg5OSAyNi4zNzg0NDYsMTAuMzY5NTYxMyAyNC44MzA1MzQyLDEwLjM2OTU2MTMgWiBNMzMuMzcxNzAzNiwyLjE4MjYxMTM2IEwzMi4yNTYyNDIsMi4xODI2MTEzNiBMMzIuMjU2MjQyLDkuNTE2NjMyMjIgQzMyLjI1NjI0MiwxMC4wNjc4NjcgMzEuODQ5Nzc1OSwxMC4zMzA0OTIzIDMxLjQ0MzMwOTksMTAuMzMwNDkyMyBDMzEuMDM1OTE1OCwxMC4zMzA0OTIzIDMwLjYyOTQ0OTgsMTAuMDY3ODY3IDMwLjYyOTQ0OTgsOS41MTY2MzIyMiBMMzAuNjI5NDQ5OCwyLjE4MjYxMTM2IEwyOS41MTM5ODgyLDIuMTgyNjExMzYgQzI4Ljk3NjY3MzUsMi4xODI2MTEzNiAyOC43MDEwNTYxLDEuNzc2MTQ1MzEgMjguNzAxMDU2MSwxLjM2ODc1MTI2IEMyOC43MDEwNTYxLDAuOTc1Mjc3MjgyIDI4Ljk3NjY3MzUsMC41Njg4MTEyMzkgMjkuNTEzOTg4MiwwLjU2ODgxMTIzOSBMMzMuMzcxNzAzNiwwLjU2ODgxMTIzOSBDMzMuOTIyOTM4MywwLjU2ODgxMTIzOSAzNC4xODU1NjM3LDAuOTc1Mjc3MjgyIDM0LjE4NTU2MzcsMS4zNjg3NTEyNiBDMzQuMTg1NTYzNywxLjc3NjE0NTMxIDMzLjkyMjkzODMsMi4xODI2MTEzNiAzMy4zNzE3MDM2LDIuMTgyNjExMzYgWiBNNDAuOTQxOTk0NCwxMC4zMzAyMTQgTDM3LjMwNzkyODIsMTAuMzMwMjE0IEMzNi43OTU2Njk2LDEwLjMzMDIxNCAzNi40ODEwNzYsOS44NDQ4Njc1MSAzNi40ODEwNzYsOS4zNTk1MjEwMyBDMzYuNDgxMDc2LDkuMTc1Nzc2MTIgMzYuNTA3MDYwMiw5LjAwNTAyMzI2IDM2LjYxMTkyNDcsOC44NjExODI1MyBMMzkuNzg3NTU2NywzLjc0NDE2NDggQzM5Ljk1ODMwOTUsMy40Njg1NDc0MSAzOS45NTgzMDk1LDMuMzEwNzg2NjIgMzkuOTU4MzA5NSwzLjEwMTA1NzU3IEwzOS45NTgzMDk1LDIuOTk2MTkzMDQgQzM5Ljk1ODMwOTUsMi41NzU4MDY5MyAzOS41OTA4MTk2LDIuMTk1MzI1MDEgMzkuMTE4NDY1MywyLjE5NTMyNTAxIEwzOS4wNzg1NjExLDIuMTk1MzI1MDEgQzM4LjYyMDEyNjcsMi4xOTUzMjUwMSAzOC4yNjU2MjksMi41NjI4MTQ4NyAzOC4yNjU2MjksMi45OTYxOTMwNCBMMzguMjY1NjI5LDMuMTUzOTUzODMgQzM4LjI2NTYyOSwzLjY5MTI2ODU0IDM3Ljg1OTE2MjksMy45NTM4OTM4NSAzNy40NTE3Njg5LDMuOTUzODkzODUgQzM3LjA0NTMwMjgsMy45NTM4OTM4NSAzNi42Mzg4MzY4LDMuNjkxMjY4NTQgMzYuNjM4ODM2OCwzLjE1Mzk1MzgzIEwzNi42Mzg4MzY4LDIuOTQzMjk2NzggQzM2LjYzODgzNjgsMS41NzkxMjk5MiAzNy43NDAzNzgzLDAuNTk1NDQ0OTczIDM5LjA3ODU2MTEsMC41OTU0NDQ5NzMgTDM5LjExODQ2NTMsMC41OTU0NDQ5NzMgQzQwLjQzMDY2MzksMC41OTU0NDQ5NzMgNDEuNTg1MTAxNywxLjU3OTEyOTkyIDQxLjU4NTEwMTcsMi45NDMyOTY3OCBMNDEuNTcyMTA5NywzLjEwMTA1NzU3IEM0MS41NzIxMDk3LDMuNjM5MzAwMjcgNDEuMzc1MzcyNiw0LjA3MTc1MDQ1IDQxLjA4NTgzNTEsNC41NTcwOTY4OSBMMzguNTI4MjU0Myw4Ljc0MjM5NzkzIEw0MC45Njc5Nzg1LDguNzQyMzk3OTMgQzQxLjUxOTIxMzQsOC43NDIzOTc5MyA0MS43ODE4Mzg2LDkuMTQ5NzkxOTggNDEuNzgxODM4Niw5LjU0MzI2NTk2IEM0MS43NDE5MzQ0LDkuOTIzNzQ3OSA0MS40ODAyMzcyLDEwLjMzMDIxNCA0MC45NDE5OTQ0LDEwLjMzMDIxNCBaIE00Ny4zMzEzOTk0LDguMzc1Mjc5MjkgTDQ3LjAyOTc5NzksOC4zNzUyNzkyOSBMNDcuMDI5Nzk3OSw5LjU2OTYyMTMgQzQ3LjAyOTc5NzksMTAuMTE5OTI4MSA0Ni42MjMzMzE4LDEwLjM4MjU1MzQgNDYuMjE1OTM3OCwxMC4zODI1NTM0IEM0NS44MDk0NzE3LDEwLjM4MjU1MzQgNDUuNDAzMDA1NywxMC4xMTk5MjgxIDQ1LjQwMzAwNTcsOS41Njk2MjEzIEw0NS40MDMwMDU3LDguMzc1Mjc5MjkgTDQzLjE5ODk5NDYsOC4zNzUyNzkyOSBDNDIuNjM0NzY3OCw4LjM3NTI3OTI5IDQyLjI5MzI2Miw4LjA3MzY3Nzc4IDQyLjI5MzI2Miw3LjUyMjQ0MyBDNDIuMjkzMjYyLDcuMzc4NjAyMjcgNDIuMzE5MjQ2MSw3LjIwNzg0OTQxIDQyLjM3MjE0MjQsNy4wNzYwNzI3NiBMNDQuOTk1NjExNiwxLjAyODI2NjM1IEM0NS4xNTMzNzI0LDAuNjczNzY4NTY3IDQ1LjQyODk4OTksMC41NDI5MTk5MDggNDUuNzA0NjA3MiwwLjU0MjkxOTkwOCBDNDYuMTI0MDY1MywwLjU0MjkxOTkwOCA0Ni41NDQ0NTE0LDAuODcwNTA1NTU1IDQ2LjU0NDQ1MTQsMS4zMjk4Njc4NiBDNDYuNTQ0NDUxNCwxLjQ0NzcyNDQ2IDQ2LjUzMTQ1OTMsMS41NTI1ODg5OSA0Ni40Nzg1NjMxLDEuNjg0MzY1NjUgTDQ0LjE2OTY4NzUsNi43NjE0NzkxNyBMNDUuNDAzMDA1Nyw2Ljc2MTQ3OTE3IEw0NS40MDMwMDU3LDUuOTQ3NjE5MDggQzQ1LjQwMzAwNTcsNS40MTAzMDQzOCA0NS44MDk0NzE3LDUuMTM0Njg3IDQ2LjIxNTkzNzgsNS4xMzQ2ODcgQzQ2LjYyMzMzMTgsNS4xMzQ2ODcgNDcuMDI5Nzk3OSw1LjM5NzMxMjMxIDQ3LjAyOTc5NzksNS45NDc2MTkwOCBMNDcuMDI5Nzk3OSw2Ljc2MTQ3OTE3IEw0Ny4zMzEzOTk0LDYuNzYxNDc5MTcgQzQ3Ljg4MjYzNDEsNi43NjE0NzkxNyA0OC4xNDUyNTk0LDcuMTU0OTUzMTUgNDguMTQ1MjU5NCw3LjU2MTQxOTIgQzQ4LjE0NTI1OTQsNy45Njg4MTMyNSA0Ny44ODI2MzQxLDguMzc1Mjc5MjkgNDcuMzMxMzk5NCw4LjM3NTI3OTI5IFoiIGlkPSJTaGFwZSI+PC9wYXRoPg0KICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJHcm91cC0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0Ljg3ODA0OSwgNC44NzgwNDkpIiBmaWxsPSIjRkZGRkZGIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMS45NDUwMzg2LDMuMjcxNTMyMDMgQzExLjk0NTAzODYsMi42MTU0MzI3MyAxMS40MzM3MDc5LDIuMTQzMDc4MzUgMTAuNzY0NjE2NiwyLjE0MzA3ODM1IEwxMC42MzI4Mzk5LDIuMTQzMDc4MzUgQzkuOTc2NzQwNjIsMi4xNDMwNzgzNSA5LjQ1MjQxNzk4LDIuNjI4NDI0NzkgOS40NTI0MTc5OCwzLjI3MTUzMjAzIEw5LjQ1MjQxNzk4LDcuNjE0NTkzODYgQzkuNDUyNDE3OTgsOC4yNzA2OTMxNiA5Ljk4OTczMjcyLDguNzY5MDMxNjcgMTAuNjMyODM5OSw4Ljc2OTAzMTY3IEwxMC43NjQ2MTY2LDguNzY5MDMxNjcgQzExLjQxOTc4NzksOC43NjkwMzE2NyAxMS45NDUwMzg2LDguMjgzNjg1MjMgMTEuOTQ1MDM4Niw3LjY0MDU3Nzk5IEwxMS45NDUwMzg2LDMuMjcxNTMyMDMgWiBNMTAuNzY0NjE2NiwxMC4zNjk4Mzk3IEwxMC42MzI4Mzk5LDEwLjM2OTgzOTcgQzkuMDk3OTIwMjMsMTAuMzY5ODM5NyA3LjgzODYxNzg5LDkuMTYyNTA1NjUgNy44Mzg2MTc4OSw3LjYyNzU4NTkzIEw3LjgzODYxNzg5LDMuMjcxNTMyMDMgQzcuODM4NjE3ODksMS43MjM2MjAyNCA5LjA5NzkyMDIzLDAuNTI5Mjc4MjQgMTAuNjMyODM5OSwwLjUyOTI3ODI0IEwxMC43NjQ2MTY2LDAuNTI5Mjc4MjQgQzEyLjMxMjUyODQsMC41MjkyNzgyNCAxMy41NTg4Mzg3LDEuNzIzNjIwMjQgMTMuNTU4ODM4NywzLjI3MTUzMjAzIEwxMy41NTg4Mzg3LDcuNjE0NTkzODYgQzEzLjU3MTgzMDgsOS4xNjI1MDU2NSAxMi4zMjU1MjA0LDEwLjM2OTgzOTcgMTAuNzY0NjE2NiwxMC4zNjk4Mzk3IFoiIGlkPSJTaGFwZSIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+DQogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTcuNjE4Njc5MSw4LjY3MDY0Nzc1IEMxNy41ODgwNTA2LDguNjcwNjQ3NzUgMTcuNTU4OTQ2Myw4LjY3MjAzMDYzIDE3LjUzMTI5MTQsOC42NzQ3MTAyIEwxNi43Njc2NDU5LDguNjc0NzEwMiBDMTYuNjMyOTQyMyw4LjY3NDcxMDIgMTYuNTIzNzQzNCw4LjU2NTUxMTM2IDE2LjUyMzc0MzQsOC40MzA4MDc3NyBMMTYuNTIzNzQzNCw2LjQ2MDE2MTAxIEMxNi41MjM3NDM0LDYuMzI1NDU3NDIgMTYuNjMyOTQyMyw2LjIxNjI1ODU3IDE2Ljc2NzY0NTksNi4yMTYyNTg1NyBMMTguMjI2Mjg4NSw2LjIxNjI1ODU3IEMxOC4yNjU4NTI5LDYuMjE2MjU4NTcgMTguMzA1MTQxNCw2LjIxNTA3ODg4IDE4LjM0NDEyOTIsNi4yMTI3NTgwMSBDMTguNjc5ODIzNSw2LjI1NTg0OTk1IDE4LjkzOTI0MjEsNi41NDI2NzU0NyAxOC45MzkyNDIxLDYuODkwMDkxNDYgTDE4LjkzOTI0MjEsNy45ODc3MjA5MiBDMTguOTM5MjQyMSw4LjM2NDg5MDk5IDE4LjYzMzQ4NTQsOC42NzA2NDc3NSAxOC4yNTYzMTUzLDguNjcwNjQ3NzUgTDE3LjYxODY3OTEsOC42NzA2NDc3NSBaIE0xNy42MzkyMDUxLDEwLjI4ODUxMDMgTDE1LjczMjcwOTIsMTAuMjg4NTEwMyBDMTUuMzAzNDE3MywxMC4yODg1MTAzIDE0Ljg5Njk1MTIsMTAuMDI1ODg1MSAxNC44OTY5NTEyLDkuNDc0NjUwMjUgTDE0Ljg5Njk1MTIsMS4zNDA2ODkzNCBDMTQuODk2OTUxMiwwLjc4OTQ1NDUzNyAxNS4zMDM0MTczLDAuNTI2ODI5MjY4IDE1LjcxMDgxMTMsMC41MjY4MjkyNjggQzE1LjcyNTE4MywwLjUyNjg0OTI3MyAxNS43Mjg5Mzk2LDAuNTI2ODI5MjY4IDE1LjczMjcwOTIsMC41MjY4MjkyNjggTDE4LjEyNDcwMjIsMC41MjY4MjkyNjggQzE5LjM2OTk3NjcsMC41MjY4MjkyNjggMjAuMzcwOTEyNCwxLjcxNzA0NDU5IDIwLjM3MDkxMjQsMi43NzIwMjk4MiBMMjAuMzcwOTEyNCw0LjAzNzY5MDU1IEMyMC4zNzA5MTI0LDQuNDc5MjMxMDQgMjAuMjE3MjE1MSw0LjkxODgzNTk2IDE5Ljk1NTE4ODIsNS4yODYzMDQwMiBDMjAuMzM0NDQ5LDUuNjkyNjIyMDkgMjAuNTY2MDM0Myw2LjIzMTY5NzgxIDIwLjU2NjAzNDMsNi43NzM2ODk5OCBMMjAuNTY2MDM0Myw4LjAzOTM1MDcxIEMyMC41NjYwMzQzLDkuMDk0MzM1OTQgMTkuNTY1MDk4NiwxMC4yODQ1NTEzIDE4LjMxOTgyNDIsMTAuMjg0NTUxMyBMMTcuODIzNzgwNSwxMC4yODQ1NTEzIEMxNy44MDQ3MDY3LDEwLjI4MzMyNjcgMTcuNzg2MDMyNSwxMC4yODIwNDI3IDE3Ljc2Nzc1MDIsMTAuMjgwNyBDMTcuNzI2Nzk0MiwxMC4yODU4MzIxIDE3LjY4Mzk1MDUsMTAuMjg4NTEwMyAxNy42MzkyMDUxLDEwLjI4ODUxMDMgWiBNMTYuNzY3NjQ1OSwyLjE0MDYyOTM5IEwxNy40MDkxNDE1LDIuMTQwNjI5MzkgQzE3LjQxMzkwODgsMi4xNDA2OTgyIDE3LjQxODcxMzksMi4xNDA3MzI3OCAxNy40MjM1NTcxLDIuMTQwNzMyNzggTDE4LjA2MTE5MzQsMi4xNDA3MzI3OCBDMTguNDM4MzYzNCwyLjE0MDczMjc4IDE4Ljc0NDEyMDIsMi40NDY0ODk1NCAxOC43NDQxMjAyLDIuODIzNjU5NjEgTDE4Ljc0NDEyMDIsMy45MjEyODkwNiBDMTguNzQ0MTIwMiw0LjI2MDQxMDkxIDE4LjQ5Njk0MDMsNC41NDE4MDA4IDE4LjE3MjkxNzMsNC41OTUxMjE5NSBMMTYuNzY3NjQ1OSw0LjU5NTEyMTk1IEMxNi42MzI5NDIzLDQuNTk1MTIxOTUgMTYuNTIzNzQzNCw0LjQ4NTkyMzExIDE2LjUyMzc0MzQsNC4zNTEyMTk1MSBMMTYuNTIzNzQzNCwyLjM4NDUzMTgyIEMxNi41MjM3NDM0LDIuMjQ5ODI4MjMgMTYuNjMyOTQyMywyLjE0MDYyOTM5IDE2Ljc2NzY0NTksMi4xNDA2MjkzOSBaIiBpZD0iQ29tYmluZWQtU2hhcGUiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zLjcxMjY4NTMsMTAuMzY5NTYxMyBMMy41ODE4MzY2MSwxMC4zNjk1NjEzIEMyLjE2NDc3MzQ5LDEwLjM2OTU2MTMgMC45OTczNDM2MzksOS4zODU4NzYzNyAwLjgwMDYwNjY2Myw4LjA0NzY5MzY0IEwwLjgwMDYwNjY2Myw3Ljg4OTkzMjg1IEMwLjgwMDYwNjY2Myw3LjM3ODYwMjI3IDEuMjA3MDcyNzEsNy4xMDI5ODQ4OSAxLjYyNjUzMDc2LDcuMTAyOTg0ODkgQzEuOTgxMDI4NTIsNy4xMDI5ODQ4OSAyLjM0ODUxODM3LDcuMzI1NzA2MDEgMi40MTQ0MDY3Niw3Ljc5ODA2MDM5IEMyLjUwNjI3OTE1LDguMzc1Mjc5MjkgMi45OTE2MjU1OSw4Ljc1NTc2MTIgMy41OTQ4Mjg3MSw4Ljc1NTc2MTIgTDMuNzI2NjA1Myw4Ljc1NTc2MTIgQzQuMzY4Nzg0NTIsOC43NTU3NjEyIDQuOTIwMDE5MzMsOC4yODM0MDY4MyA0LjkyMDAxOTMzLDcuNjI3MzA3NTMgTDQuOTIwMDE5MzMsMS4zNTgwMTczNCBDNC45MjAwMTkzMywwLjI1NzA2MjIxNCA2LjUwNzgzNTMyLDAuMjU3MDYyMjE0IDYuNTA3ODM1MzIsMS4zNTgwMTczNCBMNi41MDc4MzUzMiw3LjYyNzMwNzUzIEM2LjUwNzgzNTMyLDkuMTc1MjE5MzEgNS4yNDg1MzI5OSwxMC4zNjk1NjEzIDMuNzEyNjg1MywxMC4zNjk1NjEzIFoiIGlkPSJQYXRoIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjwvcGF0aD4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="""
            source = Source(name=name, image_base64=image_base64)
            source.save()
        js = JobScout24Job(
            job_id=job_id,
            link=link,
            title=title,
            origin_company=origin_company,
            _attributes=_attributes,
            age=age,
            source=source,
            status=unknown,
        )
        return js

    @property
    def attributes(self):
        if self._attributes:
            return self._attributes.split(",")
        return []


class SearchTerms(models.Model):
    search_terms = models.CharField(max_length=100, null=False, blank=False)
    query_time = models.DateTimeField(auto_now_add=True)
    min_pensum = models.IntegerField()
    max_pensum = models.IntegerField()
